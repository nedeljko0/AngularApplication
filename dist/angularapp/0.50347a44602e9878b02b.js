(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Ltqv:function(l,n,t){"use strict";t.r(n);var e=t("CcnG"),u=function(){},i=t("pMnS"),o=t("gIcY"),r=t("S5y4"),a=t("Ip0R"),c=t("t/Na"),s=t("ASj1"),d=function(){function l(){this.token="B2185B09-C56E-43B2-8945-134748313EC6"}return l.prototype.getToken=function(){return this.token},l.ngInjectableDef=e.defineInjectable({factory:function(){return new l},token:l,providedIn:"root"}),l}(),p=function(){function l(l,n,t){this.httpClient=l,this.throwError=n,this.authService=t,this.rootUrl="https://challenge.3fs.si/storage",this.header=new c.h({Authorization:"Token "+this.authService.getToken()})}return l.prototype.getLocations=function(){return this.httpClient.get(this.rootUrl+"/locations",{headers:this.header})},l.prototype.getBuckets=function(){return this.httpClient.get(this.rootUrl+"/buckets",{headers:this.header})},l.prototype.createBucket=function(l,n){this.header.append("Content-Type","application/json");var t=JSON.stringify({name:l,location:n});return this.httpClient.post(this.rootUrl+"/buckets",t,{headers:this.header})},l.prototype.deleteBucket=function(l){return this.httpClient.delete(this.rootUrl+"/buckets/"+l,{headers:this.header})},l.prototype.getBucketID=function(l){return this.httpClient.get(this.rootUrl+"/buckets/"+l,{headers:this.header})},l.prototype.getFiles=function(l){return this.httpClient.get(this.rootUrl+"/buckets/"+l+"/objects",{headers:this.header})},l.prototype.uploadFile=function(l,n){return this.header.append("Accept","application/json"),this.httpClient.post(this.rootUrl+"/buckets/"+l+"/objects",n,{headers:this.header,reportProgress:!0,observe:"events"})},l.prototype.deleteFile=function(l,n){return this.httpClient.delete(this.rootUrl+"/buckets/"+l+"/objects/"+n,{headers:this.header})},l.prototype.handleError=function(l){this.throwError.changeMessage(l.error.message)},l.ngInjectableDef=e.defineInjectable({factory:function(){return new l(e.inject(c.c),e.inject(s.a),e.inject(d))},token:l,providedIn:"root"}),l}(),g=(t("itzQ"),t("k+RO"),t("ABu8")),h=function(){function l(l,n,t){this.http=l,this.throwError=n,this.loadingBar=t,this.locations=[],this.buckets=[],this.locationsLoaded=!1,this.bucketsLoaded=!1}return l.prototype.getLocations=function(){var l=this;this.loadingBar.start(),this.http.getLocations().subscribe(function(n){l.locations=n.locations,l.loadingBar.complete(),l.locationsLoaded=!0},function(n){l.throwError.tryAgain(l.throwError.tryAgainLimit,n.status)&&l.getLocations(),void 0!==n.error.message&&l.http.handleError(n.error.message),l.locationsLoaded=!1})},l.prototype.getBuckets=function(){var l=this;this.loadingBar.start(),this.http.getBuckets().subscribe(function(n){l.buckets=n.buckets,l.loadingBar.complete(),l.bucketsLoaded=!0},function(n){l.throwError.tryAgain(l.throwError.tryAgainLimit,n.status)&&l.getBuckets(),void 0!==n.error.message&&l.http.handleError(n.error.message),l.bucketsLoaded=!1})},l.ngInjectableDef=e.defineInjectable({factory:function(){return new l(e.inject(p),e.inject(s.a),e.inject(g.b))},token:l,providedIn:"root"}),l}(),f=function(){function l(l,n,t,u){this.bucketLService=l,this.http=n,this.loadingBar=t,this.throwError=u,this.create=new e.EventEmitter,this.bucketName="",this.locations=[],this.clicked=0}return l.prototype.ngOnInit=function(){0===this.locations.length&&this.bucketLService.getLocations()},l.prototype.createBucket=function(l){var n=this,t=l.value;this.loadingBar.start(),this.http.createBucket(t.bucketName,t.bucketLocation).subscribe(function(l){n.loadingBar.complete(),n.form.reset(),n.bucketLService.getBuckets(),n.create.emit(!0)},function(l){n.throwError.changeMessage(l.message)})},l.prototype.onClickedOutside=function(l){this.clicked++,this.clicked>1&&(this.create.emit(!0),this.clicked=0)},l}(),b=e["\u0275crt"]({encapsulation:0,styles:[[".create-bucket-container[_ngcontent-%COMP%]{margin-bottom:15px;min-height:175px;box-shadow:0 2px 20px rgba(0,0,0,.07)}.create-bucket-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.create-bucket-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%;display:flex}.create-bucket-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 0 15px}.container-fluid[_ngcontent-%COMP%]{border-top-left-radius:5px}"]],data:{}});function m(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),e["\u0275did"](1,147456,null,0,o.m,[e.ElementRef,e.Renderer2,[2,o.p]],{value:[0,"value"]},null),e["\u0275did"](2,147456,null,0,o.t,[e.ElementRef,e.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),e["\u0275ted"](3,null,["",""]))],function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)},function(l,n){l(n,3,0,n.context.$implicit.name)})}function v(l){return e["\u0275vid"](0,[e["\u0275qud"](402653184,1,{form:0}),(l()(),e["\u0275eld"](1,0,null,null,1,"p",[["class","header-text"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Create New Bucket"])),(l()(),e["\u0275eld"](3,0,null,null,34,"div",[["class","container-fluid create-bucket-container"]],null,[[null,"clickOutside"]],function(l,n,t){var e=!0;return"clickOutside"===n&&(e=!1!==l.component.onClickedOutside(t)&&e),e},null,null)),e["\u0275did"](4,737280,null,0,r.ClickOutsideDirective,[e.ElementRef,e.NgZone,e.PLATFORM_ID],null,{clickOutside:"clickOutside"}),(l()(),e["\u0275eld"](5,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,31,"form",[["class","form"],["id","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,t){var u=!0,i=l.component;return"submit"===n&&(u=!1!==e["\u0275nov"](l,8).onSubmit(t)&&u),"reset"===n&&(u=!1!==e["\u0275nov"](l,8).onReset()&&u),"ngSubmit"===n&&(u=!1!==i.createBucket(e["\u0275nov"](l,8))&&u),u},null,null)),e["\u0275did"](7,16384,null,0,o.r,[],null,null),e["\u0275did"](8,4210688,[[1,4],["f",4]],0,o.k,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),e["\u0275prd"](2048,null,o.b,null,[o.k]),e["\u0275did"](10,16384,null,0,o.j,[[4,o.b]],null,null),(l()(),e["\u0275eld"](11,0,null,null,24,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e["\u0275eld"](12,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Bucket name*"])),(l()(),e["\u0275eld"](15,0,null,null,7,"input",[["class","form-control"],["id","bucketName"],["name","bucketName"],["ngModel",""],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e["\u0275nov"](l,16)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e["\u0275nov"](l,16).onTouched()&&u),"compositionstart"===n&&(u=!1!==e["\u0275nov"](l,16)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e["\u0275nov"](l,16)._compositionEnd(t.target.value)&&u),u},null,null)),e["\u0275did"](16,16384,null,0,o.c,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](17,16384,null,0,o.o,[],{required:[0,"required"]},null),e["\u0275prd"](1024,null,o.f,function(l){return[l]},[o.o]),e["\u0275prd"](1024,null,o.g,function(l){return[l]},[o.c]),e["\u0275did"](20,671744,null,0,o.l,[[2,o.b],[6,o.f],[8,null],[6,o.g]],{name:[0,"name"],model:[1,"model"]},null),e["\u0275prd"](2048,null,o.h,null,[o.l]),e["\u0275did"](22,16384,null,0,o.i,[[4,o.h]],null,null),(l()(),e["\u0275eld"](23,0,null,null,12,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e["\u0275eld"](24,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Bucket location*"])),(l()(),e["\u0275eld"](26,0,null,null,9,"select",[["class","form-control"],["id","bucketLocation"],["name","bucketLocation"],["ngModel",""],["required",""],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,t){var u=!0;return"change"===n&&(u=!1!==e["\u0275nov"](l,27).onChange(t.target.value)&&u),"blur"===n&&(u=!1!==e["\u0275nov"](l,27).onTouched()&&u),u},null,null)),e["\u0275did"](27,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275did"](28,16384,null,0,o.o,[],{required:[0,"required"]},null),e["\u0275prd"](1024,null,o.f,function(l){return[l]},[o.o]),e["\u0275prd"](1024,null,o.g,function(l){return[l]},[o.p]),e["\u0275did"](31,671744,null,0,o.l,[[2,o.b],[6,o.f],[8,null],[6,o.g]],{name:[0,"name"],model:[1,"model"]},null),e["\u0275prd"](2048,null,o.h,null,[o.l]),e["\u0275did"](33,16384,null,0,o.i,[[4,o.h]],null,null),(l()(),e["\u0275and"](16777216,null,null,1,null,m)),e["\u0275did"](35,278528,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](36,0,null,null,1,"button",[["class","btn btn-default"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Create bucket"]))],function(l,n){var t=n.component;l(n,4,0),l(n,17,0,""),l(n,20,0,"bucketName",""),l(n,28,0,""),l(n,31,0,"bucketLocation",""),l(n,35,0,t.bucketLService.locations)},function(l,n){l(n,6,0,e["\u0275nov"](n,10).ngClassUntouched,e["\u0275nov"](n,10).ngClassTouched,e["\u0275nov"](n,10).ngClassPristine,e["\u0275nov"](n,10).ngClassDirty,e["\u0275nov"](n,10).ngClassValid,e["\u0275nov"](n,10).ngClassInvalid,e["\u0275nov"](n,10).ngClassPending),l(n,15,0,e["\u0275nov"](n,17).required?"":null,e["\u0275nov"](n,22).ngClassUntouched,e["\u0275nov"](n,22).ngClassTouched,e["\u0275nov"](n,22).ngClassPristine,e["\u0275nov"](n,22).ngClassDirty,e["\u0275nov"](n,22).ngClassValid,e["\u0275nov"](n,22).ngClassInvalid,e["\u0275nov"](n,22).ngClassPending),l(n,26,0,e["\u0275nov"](n,28).required?"":null,e["\u0275nov"](n,33).ngClassUntouched,e["\u0275nov"](n,33).ngClassTouched,e["\u0275nov"](n,33).ngClassPristine,e["\u0275nov"](n,33).ngClassDirty,e["\u0275nov"](n,33).ngClassValid,e["\u0275nov"](n,33).ngClassInvalid,e["\u0275nov"](n,33).ngClassPending),l(n,36,0,!e["\u0275nov"](n,8).valid)})}var k=t("ZYCi"),y=function(){function l(l,n,t){this.loadingBar=l,this.http=n,this.bucketListService=t,this.requestError=!1,this.allBucketsCounter=10,this.createNewBucket=!1,this.visibleButton=!0}return l.prototype.ngOnInit=function(){this.bucketListService.getLocations(),this.bucketListService.getBuckets()},l.prototype.createBucket=function(){this.createNewBucket=!0,this.visibleButton=!1},l.prototype.newBucketCreated=function(l){this.createNewBucket=!1,this.visibleButton=!0},l}(),C=e["\u0275crt"]({encapsulation:0,styles:[[".bucket-list[_ngcontent-%COMP%]{box-shadow:0 2px 20px rgba(0,0,0,.07)}.bucket-list[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{border-top-left-radius:5px}.bucket-list[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-sm-10[_ngcontent-%COMP%]{padding-top:10px}.bucket-list[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-sm-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}"]],data:{}});function w(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"app-bucket-create",[],null,[[null,"create"]],function(l,n,t){var e=!0;return"create"===n&&(e=!1!==l.component.newBucketCreated(t)&&e),e},v,b)),e["\u0275did"](2,114688,null,0,f,[h,p,g.b,s.a],null,{create:"create"})],function(l,n){l(n,2,0)},null)}function B(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-default"],["id","createBucket"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.createBucket()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Create new bucket"]))],null,null)}function L(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,7,"tr",[["id","test"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,1).onClick()&&u),u},null,null)),e["\u0275did"](1,16384,null,0,k.l,[k.k,k.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](2,2),(l()(),e["\u0275eld"](3,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,1,"div",[["class","bucketname"],["id","bucketname"]],null,null,null,null,null)),(l()(),e["\u0275ted"](5,null,["",""])),(l()(),e["\u0275eld"](6,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](7,null,["",""]))],function(l,n){l(n,1,0,l(n,2,0,"/bucket-files-list/",n.context.$implicit.id))},function(l,n){l(n,5,0,n.context.$implicit.name),l(n,7,0,n.context.$implicit.location.name)})}function x(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,9,"table",[["class","table table-hover"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,5,"thead",[["class","thead-inverse"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"th",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Name"])),(l()(),e["\u0275eld"](5,0,null,null,1,"th",[["class","col-sm-4"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Location"])),(l()(),e["\u0275eld"](7,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,L)),e["\u0275did"](9,278528,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,9,0,n.component.bucketListService.buckets)},null)}function O(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,16,"div",[["class","container-content"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,w)),e["\u0275did"](2,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](3,0,null,null,1,"h3",[["class","header-text"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Bucket List"])),(l()(),e["\u0275eld"](5,0,null,null,11,"div",[["class","bucket-list"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,10,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](8,0,null,null,1,"div",[["class","col-sm-10"]],null,null,null,null,null)),(l()(),e["\u0275ted"](9,null,[" All buckets (",") "])),(l()(),e["\u0275eld"](10,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,B)),e["\u0275did"](12,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](13,0,null,null,3,"div",[["class","row bucket-list"]],null,null,null,null,null)),(l()(),e["\u0275eld"](14,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,x)),e["\u0275did"](16,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,t.createNewBucket),l(n,12,0,t.visibleButton),l(n,16,0,t.bucketListService.bucketsLoaded)},function(l,n){var t=n.component;l(n,9,0,t.bucketListService.bucketsLoaded?t.bucketListService.buckets.length:"")})}var I=e["\u0275ccf"]("app-bucket-list",y,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-bucket-list",[],null,null,null,O,C)),e["\u0275did"](1,114688,null,0,y,[g.b,p,h],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),M=function(){function l(){this.units=["B","KB","MB","GB","TB","PB"]}return l.prototype.transform=function(l){if(0==l)return"0B";var n=this.units,t=Math.floor(Math.log(l)/Math.log(1e3));return parseFloat((l/Math.pow(1e3,t)).toFixed(2))+n[t]},l}(),D=t("h0As"),S=(t("u+vn"),function(){function l(l,n,t){this.http=l,this.throwError=n,this.loadingBar=t,this.storageSize=0,this.bucketLoaded=!1,this.filesLoaded=!1}return l.prototype.getBucket=function(l){var n=this;this.loadingBar.start(),this.http.getBucketID(l).subscribe(function(l){n.bucket=l.bucket,n.loadingBar.complete(),n.bucketLoaded=!0},function(t){n.throwError.tryAgain(n.throwError.tryAgainLimit,t.status)&&n.getBucket(l),n.throwError.changeMessage(t.error.message),n.bucketLoaded=!1})},l.prototype.deleteBucket=function(l){var n=this;this.loadingBar.start(),this.http.deleteBucket(l).subscribe(function(l){n.loadingBar.complete()},function(t){n.throwError.tryAgain(n.throwError.tryAgainLimit,t.status)&&n.deleteBucket(l),n.throwError.changeMessage(t.error.message)})},l.prototype.getFiles=function(l){var n=this;this.loadingBar.start(),this.http.getFiles(l).subscribe(function(l){n.files=l.objects,n.storageSize=0;for(var t=0,e=n.files;t<e.length;t++)n.storageSize+=e[t].size;n.loadingBar.complete(),n.filesLoaded=!0},function(t){n.throwError.tryAgain(n.throwError.tryAgainLimit,t.status)&&n.getFiles(l),n.throwError.changeMessage(t.error.message),n.filesLoaded=!1})},l.prototype.deleteFile=function(l,n){var t=this;this.loadingBar.start(),this.http.deleteFile(l,n).subscribe(function(n){t.loadingBar.complete(),t.getFiles(l)},function(e){t.throwError.tryAgain(t.throwError.tryAgainLimit,e.status)&&t.deleteFile(l,n),t.throwError.changeMessage(e.error.message)})},l.ngInjectableDef=e.defineInjectable({factory:function(){return new l(e.inject(p),e.inject(s.a),e.inject(g.b))},token:l,providedIn:"root"}),l}()),E=function(){function l(l,n,t,e,u,i){this.dialog=l,this.bucketService=n,this.route=t,this.http=e,this.throwError=u,this.loadingBar=i,this.deleteEnabled=!1,this.showName=!1,this.percentDone=0,this.startupload=!1,this.bucketID=this.route.snapshot.params.id}return l.prototype.ngOnInit=function(){this.bucketService.getBucket(this.bucketID),this.bucketService.getFiles(this.bucketID)},l.prototype.selectFile=function(l,n){this.file=l,this.selectedRow=n,this.deleteEnabled=!0},l.prototype.uploadFile=function(l,n){var t=this;this.http.uploadFile(l,n).subscribe(function(l){l.type===c.f.UploadProgress?(t.startupload=!0,t.percentDone=Math.round(100*l.loaded/l.total),100===t.percentDone&&t.bucketService.getFiles(t.bucketID)):t.startupload=!1},function(e){t.startupload=!1,t.percentDone=0,t.throwError.tryAgain(t.throwError.tryAgainLimit,e.status)&&t.uploadFile(l,n),t.throwError.changeMessage(e.error.message)})},l.prototype.upload=function(l){var n=new FormData;Array.from(l).forEach(function(l){n.append("file",l)}),this.uploadFile(this.bucketID,n)},l.prototype.deleteFile=function(){var l=this;this.delete=this.dialog.open(D.a,{hasBackdrop:!0,width:"370px",height:"140px",data:{message:"Do you really want to delete this file?"}}),this.delete.afterClosed().subscribe(function(n){n&&(l.bucketService.deleteFile(l.bucketID,l.file.name),l.selectedRow=null,l.deleteEnabled=!1)})},l}(),_=t("o3x0"),R=e["\u0275crt"]({encapsulation:0,styles:[[".bucket-name[_ngcontent-%COMP%]{padding:0 0 40px}.bucket-name[_ngcontent-%COMP%]   .col-sm-4[_ngcontent-%COMP%]{width:70%}.bucket-name[_ngcontent-%COMP%]   .selected-file[_ngcontent-%COMP%]{background-color:red}.table[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#123456!important;color:#fff}"]],data:{}});function F(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,9,"tr",[],[[2,"active",null]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.selectFile(l.context.$implicit,l.context.index)&&e),e},null,null)),(l()(),e["\u0275eld"](1,0,null,null,2,"td",[["class","filename"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-file"],["style","padding-right:10px"]],null,null,null,null,null)),(l()(),e["\u0275ted"](3,null,["",""])),(l()(),e["\u0275eld"](4,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),e["\u0275ted"](5,null,["",""])),e["\u0275ppd"](6,2),(l()(),e["\u0275eld"](7,0,[["filesize",1]],null,2,"td",[["class","filesize"],["id","filesize"]],null,null,null,null,null)),(l()(),e["\u0275ted"](8,null,["",""])),e["\u0275ppd"](9,1)],null,function(l,n){l(n,0,0,n.context.index==n.component.selectedRow),l(n,3,0,n.context.$implicit.name),l(n,5,0,e["\u0275unv"](n,5,0,l(n,6,0,e["\u0275nov"](n.parent.parent,0),n.context.$implicit.last_modified,"dd.MM.yyyy"))),l(n,8,0,e["\u0275unv"](n,8,0,l(n,9,0,e["\u0275nov"](n.parent.parent,1),n.context.$implicit.size)))})}function P(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,11,"table",[["class","table table-hover"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,7,"thead",[["class","thead-inverse"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,6,"tr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"th",[["class","col-sm-4"],["style","width:80%"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Name"])),(l()(),e["\u0275eld"](5,0,null,null,1,"th",[["class","col-sm-5"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Last modified"])),(l()(),e["\u0275eld"](7,0,null,null,1,"th",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Size"])),(l()(),e["\u0275eld"](9,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,F)),e["\u0275did"](11,278528,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,11,0,n.component.bucketService.files)},null)}function j(l){return e["\u0275vid"](0,[e["\u0275pid"](0,a.DatePipe,[e.LOCALE_ID]),e["\u0275pid"](0,M,[]),(l()(),e["\u0275eld"](2,0,null,null,26,"div",[["class","container-content"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,2,"div",[["class","header-text"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,1,"h3",[["class","bucket-title"],["id","bucket-title"]],null,null,null,null,null)),(l()(),e["\u0275ted"](5,null,["",""])),(l()(),e["\u0275eld"](6,0,null,null,22,"div",[["class","bucket-list"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,6,"div",[["class","bucket-tabs"]],null,null,null,null,null)),(l()(),e["\u0275eld"](8,0,null,null,1,"div",[["class","bucket-tab"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Files"])),(l()(),e["\u0275eld"](10,0,null,null,3,"div",[["class","bucket-tab bucket-tab-inactive"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,11).onClick()&&u),u},null,null)),e["\u0275did"](11,16384,null,0,k.l,[k.k,k.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](12,2),(l()(),e["\u0275ted"](-1,null,["Details"])),(l()(),e["\u0275eld"](14,0,null,null,14,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](15,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,1,"div",[["class","col-sm-6"],["style","padding-top:10px;"]],null,null,null,null,null)),(l()(),e["\u0275ted"](17,null,[" All Files (",") "])),(l()(),e["\u0275eld"](18,0,null,null,2,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](19,0,null,null,1,"button",[["class","btn btn-default deleteBtn"],["style","float:right;width:100%;"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.deleteFile()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,[" Delete object "])),(l()(),e["\u0275eld"](21,0,null,null,3,"div",[["class","col-sm-3"]],null,null,null,null,null)),(l()(),e["\u0275eld"](22,0,[["fileInput",1]],null,0,"input",[["id","fileLoader"],["name","files"],["style","display:none"],["title","loadFile"],["type","file"]],null,[[null,"change"]],function(l,n,t){var e=!0;return"change"===n&&(e=!1!==l.component.upload(t.target.files)&&e),e},null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"button",[["class","btn btn-default"],["id","addButton"],["style","float:right;width:100%;"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,22).click()&&u),u},null,null)),(l()(),e["\u0275ted"](24,null,[" "," "])),(l()(),e["\u0275eld"](25,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](26,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,P)),e["\u0275did"](28,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,11,0,l(n,12,0,"/bucket-details/",t.bucketID)),l(n,28,0,t.bucketService.filesLoaded)},function(l,n){var t=n.component;l(n,5,0,t.bucketService.bucketLoaded?t.bucketService.bucket.name:""),l(n,17,0,t.bucketService.filesLoaded?t.bucketService.files.length:""),l(n,19,0,!t.deleteEnabled),l(n,23,0,t.startupload),l(n,24,0,t.startupload?t.percentDone+"%":"Upload Object")})}var N=e["\u0275ccf"]("app-bucket-files-list",E,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-bucket-files-list",[],null,null,null,j,R)),e["\u0275did"](1,114688,null,0,E,[_.e,S,k.a,p,s.a,g.b],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),A=function(){function l(l,n,t,e){this.dialog=l,this.bucketService=n,this.route=t,this.router=e,this.gotBucket=!1,this.bucketID=this.route.snapshot.params.id}return l.prototype.ngOnInit=function(){this.bucketService.getBucket(this.bucketID),this.bucketService.getFiles(this.bucketID)},l.prototype.deleteDialog=function(){var l=this;this.delete=this.dialog.open(D.a,{hasBackdrop:!0,width:"370px",height:"140px",data:{message:"Do you really want to delete this bucket?"}}),this.delete.afterClosed().subscribe(function(n){n&&(l.bucketService.deleteBucket(l.bucketID),l.router.navigateByUrl("/home"))})},l}(),T=e["\u0275crt"]({encapsulation:0,styles:[[".bucket-name[_ngcontent-%COMP%]{padding:0 0 40px}"]],data:{}});function z(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,3,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",""])),e["\u0275ppd"](3,1)],null,function(l,n){var t=n.component;l(n,2,0,e["\u0275unv"](n,2,0,l(n,3,0,e["\u0275nov"](n.parent,0),t.bucketService.storageSize)))})}function q(l){return e["\u0275vid"](0,[e["\u0275pid"](0,M,[]),(l()(),e["\u0275eld"](1,0,null,null,34,"div",[["class","container-content"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,2,"div",[["class","header-text"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),(l()(),e["\u0275eld"](5,0,null,null,30,"div",[["class","bucket-list"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,8,"div",[["class","bucket-tabs"],["style","width:100%;"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,3,"div",[["class","bucket-tab bucket-tab-inactive"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,8).onClick()&&u),u},null,null)),e["\u0275did"](8,16384,null,0,k.l,[k.k,k.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](9,2),(l()(),e["\u0275ted"](-1,null,["Files"])),(l()(),e["\u0275eld"](11,0,null,null,1,"div",[["class","bucket-tab active-tab"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Details"])),(l()(),e["\u0275eld"](13,0,null,null,1,"button",[["class","btn btn-danger"],["id","dangerBtn"],["style","float:right;"],["type","button"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.deleteDialog()&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Delete Object"])),(l()(),e["\u0275eld"](15,0,null,null,20,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),e["\u0275eld"](16,0,null,null,6,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](18,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Bucket name:"])),(l()(),e["\u0275eld"](20,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](21,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](22,null,["",""])),(l()(),e["\u0275eld"](23,0,null,null,6,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](24,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](25,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Location:"])),(l()(),e["\u0275eld"](27,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](28,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](29,null,["",""])),(l()(),e["\u0275eld"](30,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),e["\u0275eld"](31,0,null,null,2,"div",[["class","col-sm-2"]],null,null,null,null,null)),(l()(),e["\u0275eld"](32,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Storage size:"])),(l()(),e["\u0275and"](16777216,null,null,1,null,z)),e["\u0275did"](35,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,8,0,l(n,9,0,"/bucket-files-list/",t.bucketID)),l(n,35,0,t.bucketService.filesLoaded)},function(l,n){var t=n.component;l(n,4,0,t.bucketService.bucketLoaded?t.bucketService.bucket.name:""),l(n,22,0,t.bucketService.bucketLoaded?t.bucketService.bucket.name:""),l(n,29,0,t.bucketService.bucketLoaded?t.bucketService.bucket.location.name:"")})}var U=e["\u0275ccf"]("app-bucket-details",A,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-bucket-details",[],null,null,null,q,T)),e["\u0275did"](1,114688,null,0,A,[_.e,S,k.a,k.k],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),V=t("eDkP"),$=t("Fzqc"),Z=t("4c35"),J=t("dWZg"),G=t("qAlS"),Q=t("Wf4p"),W=t("lLAP"),Y=e["\u0275crt"]({encapsulation:2,styles:[".mat-dialog-container{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);display:block;padding:24px;border-radius:2px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media screen and (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:12px 0;display:flex;flex-wrap:wrap;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button+.mat-button,.mat-dialog-actions .mat-button+.mat-raised-button,.mat-dialog-actions .mat-raised-button+.mat-button,.mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-button+.mat-raised-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-button,[dir=rtl] .mat-dialog-actions .mat-raised-button+.mat-raised-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"slideDialog",definitions:[{type:0,name:"enter",styles:{type:6,styles:{transform:"none",opacity:1},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{transform:"translate3d(0, 25%, 0) scale(0.9)",opacity:0},offset:null},options:void 0},{type:0,name:"exit",styles:{type:6,styles:{transform:"translate3d(0, 25%, 0)",opacity:0},offset:null},options:void 0},{type:1,expr:"* => *",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function H(l){return e["\u0275vid"](0,[(l()(),e["\u0275and"](0,null,null,0))],null,null)}function K(l){return e["\u0275vid"](0,[e["\u0275qud"](402653184,1,{_portalOutlet:0}),(l()(),e["\u0275and"](16777216,null,null,1,null,H)),e["\u0275did"](2,212992,[[1,4]],0,Z.b,[e.ComponentFactoryResolver,e.ViewContainerRef],{portal:[0,"portal"]},null)],function(l,n){l(n,2,0,"")},null)}var X=e["\u0275ccf"]("mat-dialog-container",_.g,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@slideDialog",0]],[["component","@slideDialog.start"],["component","@slideDialog.done"]],function(l,n,t){var u=!0;return"component:@slideDialog.start"===n&&(u=!1!==e["\u0275nov"](l,1)._onAnimationStart(t)&&u),"component:@slideDialog.done"===n&&(u=!1!==e["\u0275nov"](l,1)._onAnimationDone(t)&&u),u},K,Y)),e["\u0275did"](1,49152,null,0,_.g,[e.ElementRef,W.b,e.ChangeDetectorRef,[2,a.DOCUMENT],_.f],null,null)],null,function(l,n){l(n,0,0,e["\u0275nov"](n,1)._id,e["\u0275nov"](n,1)._config.role,e["\u0275nov"](n,1)._config.ariaLabel?null:e["\u0275nov"](n,1)._ariaLabelledBy,e["\u0275nov"](n,1)._config.ariaLabel,e["\u0275nov"](n,1)._config.ariaDescribedBy||null,e["\u0275nov"](n,1)._state)})},{},{},[]),ll=function(){},nl=t("UodH"),tl=t("22Na");t.d(n,"CoreModuleNgFactory",function(){return el});var el=e["\u0275cmf"](u,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,I,N,U,X]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,o.s,o.s,[]),e["\u0275mpd"](4608,o.d,o.d,[]),e["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[e.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,V.a,V.a,[V.g,V.c,e.ComponentFactoryResolver,V.f,V.d,e.Injector,e.NgZone,a.DOCUMENT,$.b]),e["\u0275mpd"](5120,V.h,V.i,[V.a]),e["\u0275mpd"](5120,_.c,_.d,[V.a]),e["\u0275mpd"](4608,_.e,_.e,[V.a,e.Injector,[2,a.Location],[2,_.b],_.c,[3,_.e],V.c]),e["\u0275mpd"](4608,c.d,c.d,[]),e["\u0275mpd"](1073742336,k.m,k.m,[[2,k.s],[2,k.k]]),e["\u0275mpd"](1073742336,o.q,o.q,[]),e["\u0275mpd"](1073742336,o.e,o.e,[]),e["\u0275mpd"](1073742336,ll,ll,[]),e["\u0275mpd"](1073742336,o.n,o.n,[]),e["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),e["\u0275mpd"](1073742336,$.a,$.a,[]),e["\u0275mpd"](1073742336,Z.f,Z.f,[]),e["\u0275mpd"](1073742336,J.b,J.b,[]),e["\u0275mpd"](1073742336,G.a,G.a,[]),e["\u0275mpd"](1073742336,V.e,V.e,[]),e["\u0275mpd"](1073742336,Q.c,Q.c,[[2,Q.a]]),e["\u0275mpd"](1073742336,_.h,_.h,[]),e["\u0275mpd"](1073742336,Q.e,Q.e,[]),e["\u0275mpd"](1073742336,nl.c,nl.c,[]),e["\u0275mpd"](1073742336,tl.ClickOutsideModule,tl.ClickOutsideModule,[]),e["\u0275mpd"](1073742336,u,u,[]),e["\u0275mpd"](1024,k.i,function(){return[[{path:"",component:y},{path:"home",component:y},{path:"bucket-files-list/:id",component:E},{path:"bucket-details/:id",component:A}]]},[])])})},itzQ:function(l,n){},"u+vn":function(l,n){}}]);